<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Dhamakedar Wrestling</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body { margin:0; background:#111; color:#fff; font-family:Arial; text-align:center; }

    .top-bar { display:flex; gap:5px; padding:5px; }
    .health { flex:1; background:#333; height:22px; border-radius:6px; position:relative; overflow:hidden; }
    .fill { height:100%; width:100%; background:red; }
    .fill.blue { background:blue; }
    .txt { position:absolute; width:100%; top:0; font-size:12px; }

    #game { position:relative; width:100%; height:260px; background:#222; border:3px solid #555; overflow:hidden; }

    /* âœ… SAME BODY FOR ALL */
    .fighter {
      position:absolute;
      bottom:0;
      width:90px;
      height:150px;
      background-image:url("https://i.imgur.com/8QfQhXk.png");
      background-size:contain;
      background-repeat:no-repeat;
      background-position:center;
    }

    /* âœ… USER FACE ONLY */
    .face {
      position:absolute;
      top:14px;
      left:25px;
      width:40px;
      height:40px;
      border-radius:50%;
      background-size:cover;
      background-position:center;
      border:2px solid #000;
    }

    #p1 { left:20px; }
    #p2 { right:20px; transform:scaleX(-1); }

    .panel { display:flex; gap:5px; padding:5px; }
    .box { flex:1; background:#222; padding:6px; border-radius:8px; }
    button { width:100%; padding:8px; margin:4px 0; border:none; background:#444; color:white; border-radius:6px; }
    .main { background:#e65100; }

    input { width:100%; }
  </style>
</head>

<body>

<h3>ðŸ”¥ DHAMAKEDAR WRESTLING ðŸ”¥</h3>

Player 1 Face <input type="file" id="p1Upload">
Player 2 Face <input type="file" id="p2Upload">

<div class="top-bar">
  <div class="health"><div id="h1" class="fill"></div><div id="t1" class="txt">P1:100</div></div>
  <div id="round">Round 1</div>
  <div class="health"><div id="h2" class="fill blue"></div><div id="t2" class="txt">P2:100</div></div>
</div>

<div id="game">
  <div id="p1" class="fighter"><div id="p1Face" class="face"></div></div>
  <div id="p2" class="fighter"><div id="p2Face" class="face"></div></div>
  <div id="msg">Start Dabao</div>
</div>

<div class="panel">
  <div class="box">
    <b>P1</b>
    <button onclick="move('p1',-1)">â—€</button>
    <button onclick="move('p1',1)">â–¶</button>
    <button onclick="atk('p1','punch')">ðŸ‘Š</button>
    <button onclick="atk('p1','kick')">ðŸ¦µ</button>
    <button onclick="atk('p1','finisher')" class="main">ðŸ’¥</button>
  </div>

  <div class="box">
    <b>P2</b>
    <button onclick="move('p2',-1)">â—€</button>
    <button onclick="move('p2',1)">â–¶</button>
    <button onclick="atk('p2','punch')">ðŸ‘Š</button>
    <button onclick="atk('p2','kick')">ðŸ¦µ</button>
    <button onclick="atk('p2','finisher')" class="main">ðŸ’¥</button>
  </div>
</div>

<div class="panel">
  <div class="box">
    <button onclick="start()" class="main">â–¶ START ROUND</button>
    <button onclick="reset()">ðŸ”„ RESET</button>
  </div>
</div>

<audio id="hit" src="https://assets.mixkit.co/sfx/preview/mixkit-boxing-punch-2051.mp3"></audio>

<script>
let p1={x:20,h:100}, p2={x:250,h:100};
let r=1,w1=0,w2=0,play=false;
const D={punch:2,kick:3,finisher:8};

function ui(){
  h1.style.width=p1.h+"%"; h2.style.width=p2.h+"%";
  t1.innerText="P1:"+p1.h; t2.innerText="P2:"+p2.h;
  round.innerText="Round "+r+" | "+w1+"-"+w2;
}

function start(){
  p1.h=100; p2.h=100; play=true;
  msg.innerText="FIGHTðŸ”¥";
  ui();
}

function reset(){
  r=1; w1=0; w2=0; start();
}

function move(p,d){
  let o=(p=="p1"?p1:p2);
  o.x+=d*12;
  if(o.x<0)o.x=0; if(o.x>300)o.x=300;
  document.getElementById(p).style.left=o.x+"px";
}

function atk(p,t){
  if(!play) return;
  let a=(p=="p1"?p1:p2), b=(p=="p1"?p2:p1);
  if(Math.abs(p1.x-p2.x)<80){
    b.h-=D[t]; if(b.h<0)b.h=0; hit.play();
  }
  if(b.h==0){
    play=false;
    if(p=="p1")w1++; else w2++;
    if(w1==2||w2==2) msg.innerText=(w1==2?"P1":"P2")+" FINAL WINNERðŸ†";
    else { r++; msg.innerText="Next Round"; }
  }
  ui();
}

/* âœ… USER FACE ONLY */
p1Upload.onchange=e=>{
  p1Face.style.backgroundImage=`url(${URL.createObjectURL(e.target.files[0])})`;
};
p2Upload.onchange=e=>{
  p2Face.style.backgroundImage=`url(${URL.createObjectURL(e.target.files[0])})`;
};

ui();
</script>
</body>
</html>
